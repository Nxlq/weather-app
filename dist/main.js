(()=>{"use strict";const t=async function(t){const e=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=9075e974d8924af5855180341233103&q=${t}&days=7&aqi=no`,{mode:"cors"}),n=await e.json();return n.formattedInfo=function(t){const{monthAbbreviation:e,dayOfMonth:n,time:o}=function(t){const[e,n]=t.split(" ");return{monthAbbreviation:["January","February","March","April","May","June","July","August","September","October","November","December"][parseInt(e.split("-")[1],10)-1].slice(0,3),dayOfMonth:parseInt(e.split("-")[2],10),time:n}}(t.location.localtime);var a;return{monthAbbreviation:e,dayOfMonth:n,time:o,day:(a=t.location.localtime,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(`${a}`).getDay()]),weatherIcon:t.current.condition.icon.split("/").find((t=>t.includes(".png")))}}(n),console.log(n),n};async function e(t){const e=await fetch(`https://api.giphy.com/v1/gifs/translate?api_key=wbrSw8VyWBlLS4akOVt1qa9fZP9rXC40&s=${t}`,{mode:"cors"});return(await e.json()).data.images.original.url}function n(t){document.getElementById("weather-display").style.backgroundImage=t}function o(t){(function(t){document.getElementById("app-content").append(function(t){const e=document.getElementById("weather-display");e&&e.remove(),console.log(t);const n=document.createElement("div");n.id="weather-display";const o=document.createElement("img");o.id="weather-display-icon",o.src=`/weather-icons/${t.current.is_day?"day":"night"}/${t.formattedInfo.weatherIcon}`;const a=document.createElement("div");a.id="container-weather-location-info";const i=document.createElement("span");i.id="temperature-display",i.textContent=`${Math.round(t.current.temp_f)}°F`;const c=document.createElement("span");c.id="location-display",c.textContent=`${t.location.name}, ${t.location.region}, ${t.location.country}`,a.append(o,i,c);const d=document.createElement("div");d.id="container-date-info";const r=document.createElement("span");r.id="time-display",r.textContent=`${t.formattedInfo.time}`;const s=document.createElement("span");return s.id="date-display",s.textContent=`${t.formattedInfo.monthAbbreviation} ${t.formattedInfo.dayOfMonth}, ${t.formattedInfo.day}`,d.append(r,s),n.append(a,d),n}(t))})(t),function(t){!function(t){const e=t.current.humidity,n=document.getElementById("humidity-text");if(2===n.childElementCount)return void(n.lastChild.textContent=`${e}%`);const o=document.createElement("span");o.textContent=`${e}%`,n.appendChild(o)}(t),function(t){const e=t.current.uv,n=document.getElementById("uv-index-text");if(2===n.childElementCount)return void(n.lastChild.textContent=`${e} of 10`);const o=document.createElement("span");o.textContent=`${e} of 10`,n.appendChild(o)}(t),function(t){const e=t.forecast.forecastday[0].astro.sunrise,n=document.getElementById("sunrise-text");if(2===n.childElementCount)return void(n.lastChild.textContent=`${e}`);const o=document.createElement("span");o.textContent=`${e}`,n.appendChild(o)}(t),function(t){const e=t.forecast.forecastday[0].astro.sunset,n=document.getElementById("sunset-text");if(2===n.childElementCount)return void(n.lastChild.textContent=`${e}`);const o=document.createElement("span");o.textContent=`${e}`,n.appendChild(o)}(t)}(t),function(t){const e=document.getElementById("chart-container");e.hasChildNodes&&e.removeChild(e.firstElementChild);const n=document.createElement("canvas");n.id="myChart",e.appendChild(n);const o=t.forecast.forecastday.map((t=>`${t.day.maxtemp_f}`)),a=t.forecast.forecastday.map((t=>`${t.day.mintemp_f}`)),i=t.forecast.forecastday.map((e=>`${t.formattedInfo.monthAbbreviation} ${parseInt(e.date.split("-")[2],10)}`));new Chart(n,{type:"bar",data:{labels:i,datasets:[{label:"Max Temp °F",data:o,borderWidth:1},{label:"Min Temp °F",data:a,borderWidth:1}]},options:{plugins:{scales:{y:{beginAtZero:!0}}}}})}(t),async function(t){console.log({data:t});const o=t.current.condition.code;t.current.is_day?[1e3,1003].includes(o)?n(`url(${await e("sun")})`):[1006,1009,1030,1135,1147].includes(o)?n(`url(${await e("cloudy")})`):[1063,1069,1072,1150,1153,1168,1171,1180,1183,1186,1189,1192,1195,1198,1201,1204,1207,1240,1243,1246,1249,1252].includes(o)?n(`url(${await e("rainy")})`):([1066,1114,1117,1210,1213,1216,1219,1222,1225,1237,1255,1258,1261,1264,1279,1282].includes(o)&&n(`url(${await e("snowy")})`),[1087,1273,1276,1279,1282].includes(o)&&n(`url(${await fetch("storm")})`)):n(`url(${await e("nighttime")})`)}(t)}const a=document.getElementById("search-location-input");async function i(e){const{latitude:n,longitude:a}=e.coords,i=await t(`${n},${a}`);return o(i),i}function c(){alert("Unable to retrieve position :( Try searching for a location!")}window.addEventListener("DOMContentLoaded",(async()=>{navigator.geolocation.getCurrentPosition(i,c)})),a.addEventListener("keyup",(async e=>{if("enter"===e.code.toLowerCase()){const e=await t(a.value);console.log(e),o(e)}}))})();
//# sourceMappingURL=main.js.map